import{S as a,i as e,s,e as n,k as t,t as o,c,a as i,n as r,g as l,d as u,b as d,f,F as h,H as m,I as v,G as p,J as g,A as y,K as I}from"../chunks/vendor-6f03b65a.js";function N(a){let e,s,y,I,N,b,T,w,O,S,E,J,U,G,P,k,B,C,q,D,R,V,j,x,A,$=JSON.stringify(a[2])+"";return{c(){e=n("main"),s=n("div"),y=n("input"),I=t(),N=n("button"),b=o("Create game"),T=t(),w=n("br"),O=t(),S=n("div"),E=n("input"),J=t(),U=n("input"),G=t(),P=n("button"),k=o("Join Game"),B=t(),C=n("div"),q=o($),D=t(),R=n("br"),V=o("\n\t\tSecret: "),j=o(a[3]),this.h()},l(n){e=c(n,"MAIN",{});var t=i(e);s=c(t,"DIV",{class:!0});var o=i(s);y=c(o,"INPUT",{}),I=r(o),N=c(o,"BUTTON",{});var d=i(N);b=l(d,"Create game"),d.forEach(u),o.forEach(u),T=r(t),w=c(t,"BR",{}),O=r(t),S=c(t,"DIV",{class:!0});var f=i(S);E=c(f,"INPUT",{}),J=r(f),U=c(f,"INPUT",{}),G=r(f),P=c(f,"BUTTON",{});var h=i(P);k=l(h,"Join Game"),h.forEach(u),f.forEach(u),B=r(t),C=c(t,"DIV",{class:!0});var m=i(C);q=l(m,$),D=r(m),R=c(m,"BR",{}),V=l(m,"\n\t\tSecret: "),j=l(m,a[3]),m.forEach(u),t.forEach(u),this.h()},h(){d(s,"class","svelte-qemy0u"),d(S,"class","svelte-qemy0u"),d(C,"class","svelte-qemy0u")},m(n,t){f(n,e,t),h(e,s),h(s,y),m(y,a[0]),h(s,I),h(s,N),h(N,b),h(e,T),h(e,w),h(e,O),h(e,S),h(S,E),m(E,a[0]),h(S,J),h(S,U),m(U,a[1]),h(S,G),h(S,P),h(P,k),h(e,B),h(e,C),h(C,q),h(C,D),h(C,R),h(C,V),h(C,j),x||(A=[v(y,"input",a[6]),v(N,"click",a[4]),v(E,"input",a[7]),v(U,"input",a[8]),v(P,"click",a[5])],x=!0)},p(a,[e]){1&e&&y.value!==a[0]&&m(y,a[0]),1&e&&E.value!==a[0]&&m(E,a[0]),2&e&&U.value!==a[1]&&m(U,a[1])},i:p,o:p,d(a){a&&u(e),x=!1,g(A)}}}function b(a,e,s){let n,t,o;console.log("Refreshing...");y((async()=>{console.log("On mount..."),o=await(async()=>{console.log("Connecting...");const a=await(new I).withUrl("/api").build();return await a.start(),a})(),console.log(o)}));return[n,t,undefined,undefined,async()=>{const{connectionId:a}=o,e=await fetch("/api/createGame",{method:"POST",body:JSON.stringify({connectionId:a,playerName:n})});console.log(`Create game response: ${e.status}`)},async()=>{const{connectionId:a}=o,e=await fetch("/api/joinGame",{method:"POST",body:{connectionId:a,playerName:n,id:t}});console.log(`Join game response: ${e.status}`)},function(){n=this.value,s(0,n)},function(){n=this.value,s(0,n)},function(){t=this.value,s(1,t)}]}export default class extends a{constructor(a){super(),e(this,a,b,N,s,{})}}
