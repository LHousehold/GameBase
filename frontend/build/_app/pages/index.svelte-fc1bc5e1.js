import{S as a,i as e,s,e as n,k as t,t as o,c,a as i,n as r,g as l,d as u,b as d,f as h,F as f,H as m,I as v,G as p,J as g,A as y,K as I}from"../chunks/vendor-6f03b65a.js";function b(a){let e,s,y,I,b,N,T,w,E,O,S,U,G,J,P,k,B,C,q,D,R,V,j,x,A,$=JSON.stringify(a[2])+"";return{c(){e=n("main"),s=n("div"),y=n("input"),I=t(),b=n("button"),N=o("Create game"),T=t(),w=n("br"),E=t(),O=n("div"),S=n("input"),U=t(),G=n("input"),J=t(),P=n("button"),k=o("Join Game"),B=t(),C=n("div"),q=o($),D=t(),R=n("br"),V=o("\n\t\tSecret: "),j=o(a[3]),this.h()},l(n){e=c(n,"MAIN",{});var t=i(e);s=c(t,"DIV",{class:!0});var o=i(s);y=c(o,"INPUT",{}),I=r(o),b=c(o,"BUTTON",{});var d=i(b);N=l(d,"Create game"),d.forEach(u),o.forEach(u),T=r(t),w=c(t,"BR",{}),E=r(t),O=c(t,"DIV",{class:!0});var h=i(O);S=c(h,"INPUT",{}),U=r(h),G=c(h,"INPUT",{}),J=r(h),P=c(h,"BUTTON",{});var f=i(P);k=l(f,"Join Game"),f.forEach(u),h.forEach(u),B=r(t),C=c(t,"DIV",{class:!0});var m=i(C);q=l(m,$),D=r(m),R=c(m,"BR",{}),V=l(m,"\n\t\tSecret: "),j=l(m,a[3]),m.forEach(u),t.forEach(u),this.h()},h(){d(s,"class","svelte-qemy0u"),d(O,"class","svelte-qemy0u"),d(C,"class","svelte-qemy0u")},m(n,t){h(n,e,t),f(e,s),f(s,y),m(y,a[0]),f(s,I),f(s,b),f(b,N),f(e,T),f(e,w),f(e,E),f(e,O),f(O,S),m(S,a[0]),f(O,U),f(O,G),m(G,a[1]),f(O,J),f(O,P),f(P,k),f(e,B),f(e,C),f(C,q),f(C,D),f(C,R),f(C,V),f(C,j),x||(A=[v(y,"input",a[6]),v(b,"click",a[4]),v(S,"input",a[7]),v(G,"input",a[8]),v(P,"click",a[5])],x=!0)},p(a,[e]){1&e&&y.value!==a[0]&&m(y,a[0]),1&e&&S.value!==a[0]&&m(S,a[0]),2&e&&G.value!==a[1]&&m(G,a[1])},i:p,o:p,d(a){a&&u(e),x=!1,g(A)}}}function N(a,e,s){let n,t,o;console.log("Refreshing...");y((async()=>{console.log("On mount..."),o=await(async()=>{console.log("Connecting...");const a=await(new I).withUrl("/api").build();return await a.start(),a})(),console.log(o)}));return[n,t,undefined,undefined,async()=>{const{connectionId:a}=o,e=await fetch("/api/createGame",{method:"POST",body:{connectionId:a,playerName:n}});console.log(`Create game response: ${e.status}`)},async()=>{const{connectionId:a}=o,e=await fetch("/api/joinGame",{method:"POST",body:{connectionId:a,playerName:n,id:t}});console.log(`Join game response: ${e.status}`)},function(){n=this.value,s(0,n)},function(){n=this.value,s(0,n)},function(){t=this.value,s(1,t)}]}export default class extends a{constructor(a){super(),e(this,a,N,b,s,{})}}
